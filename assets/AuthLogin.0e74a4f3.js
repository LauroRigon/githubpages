import{Y as c,bc as v,ah as w,r as g,a7 as b,H as m,I as u,a1 as e,J as t,K as r,a2 as x,bo as y,M as _,Z as V,b8 as k}from"./index.0c1b9320.js";import{A as S}from"./AuthService.6fbce81a.js";import{n as A}from"./NotifyHelper.aabcb271.js";import{_ as d}from"./BaseInput.91f80f75.js";const E=["onSubmit"],L={class:"row"},q={class:"col"},B={class:"row"},N={class:"col q-mt-sm"},$={class:"row q-mt-xs justify-end"},C={class:"col text-right"},U=_(" Enqueci minha senha "),M={class:"row q-mt-sm"},T={class:"col"},j=_("Entrar"),F=c({__name:"LoginForm",setup(h){const l=v(),o=w({email:"",password:""}),a=g(!1);async function p(){const n=V();a.value=!0;try{const s=await S.login(o.email,o.password);n.setUser(s.user),n.setToken(s.token),await l.push({name:"home"})}catch(s){if(!k.isAxiosError(s))throw s;A(s.response&&s.response.data.message)}finally{a.value=!1}}return(n,s)=>{const f=b("router-link");return m(),u("form",{onSubmit:y(p,["prevent"])},[e("div",L,[e("div",q,[t(d,{modelValue:o.email,"onUpdate:modelValue":s[0]||(s[0]=i=>o.email=i),label:"Email",type:"email",outlined:""},null,8,["modelValue"])])]),e("div",B,[e("div",N,[t(d,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=i=>o.password=i),label:"Senha",type:"password",outlined:""},null,8,["modelValue"])])]),e("div",$,[e("div",C,[t(f,{to:{name:"auth.forgot"}},{default:r(()=>[U]),_:1},8,["to"])])]),e("div",M,[e("div",T,[t(x,{color:"primary",class:"full-width",type:"submit",loading:a.value,disable:a.value},{default:r(()=>[j]),_:1},8,["loading","disable"])])])],40,E)}}}),H={class:"auth-login"},I=e("div",{class:"row"},[e("div",{class:"col text-center"},[e("h3",null,"Login")])],-1),Y=c({__name:"AuthLogin",setup(h){return(l,o)=>(m(),u("div",H,[I,t(F)]))}});export{Y as default};
